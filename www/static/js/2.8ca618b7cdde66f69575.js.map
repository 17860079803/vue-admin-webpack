{"version":3,"sources":["webpack:///src/pages/spec/components/add.vue","webpack:///./src/pages/spec/components/add.vue?08e4","webpack:///./src/pages/spec/components/add.vue","webpack:///src/pages/spec/components/list.vue","webpack:///./src/pages/spec/components/list.vue?761c","webpack:///./src/pages/spec/components/list.vue","webpack:///src/pages/spec/spec.vue","webpack:///./src/pages/spec/spec.vue?83cb","webpack:///./src/pages/spec/spec.vue"],"names":["components_add","props","computed","extends_default","Object","vuex_esm","list","data","attrArr","value","width","form","specsname","attrs","status","rules","required","message","trigger","methods","reqList","reqTotal","addAttr","this","push","del","index","splice","cancel","$emit","close","info","isAdd","empty","add","_this","some","item","util_alert","stringify_default","map","requset","then","res","code","msg","look","id","_this2","JSON","parse","update","_this3","mounted","beforeDestroy","spec_components_add","render","_vm","_h","$createElement","_c","_self","title","visible","isShow","on","update:visible","$event","$set","closed","model","label","label-width","prop","placeholder","callback","$$v","expression","_v","_l","key","span","directives","name","rawName","type","click","active-value","inactive-value","staticClass","slot","staticRenderFns","pages_spec_components_add","__webpack_require__","normalizeComponent","ssrContext","size","total","page","components","reqtotal","changePageAction","edit","changeCurrentPage","p","console","log","components_list","staticStyle","margin","margin-bottom","row-key","border","default-expand-all","tree-props","children","hasChildren","sortable","scopedSlots","_u","fn","scope","row","_s","confirm","page-size","layout","current-page","current-change","spec","vAdd","vList","list_normalizeComponent","hide","wallAdd","emit","$refs","spec_spec","ref","spec_Component","spec_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/2.8ca618b7cdde66f69575.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog :title=\"info.title\" :visible.sync=\"info.isShow\" @closed=\"close\">\r\n      <el-form :model=\"form\" :rules=\"rules\">\r\n        <el-form-item label=\"规格名称\" :label-width=\"width\" prop=\"specsname\">\r\n          <el-input v-model=\"form.specsname\" placeholder=\"请输入规格名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"规格属性\"\r\n          :label-width=\"width\"\r\n          v-for=\"(item,index) in attrArr\"\r\n          :key=\"index\"\r\n        >\r\n          <el-row>\r\n            <el-col :span=\"18\">\r\n              <el-input v-model=\"item.value\" placeholder=\"请选择规格属性\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n              <el-button type=\"primary\" v-if=\"index==0\" @click=\"addAttr\" v-preventReClick>新增规格属性</el-button>\r\n              <el-button type=\"danger\" v-else @click=\"del(index)\" v-preventReClick>删除</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"状态\" :label-width=\"width\">\r\n          <el-switch v-model=\"form.status\" :active-value=\"1\" :inactive-value=\"2\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\" v-preventReClick>取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"add\" v-if=\"info.isAdd\" v-preventReClick>添 加</el-button>\r\n        <el-button type=\"primary\" @click=\"update\" v-else v-preventReClick>修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n//引入请求信息在util文件夹下\r\nimport {\r\n  reqAddspecs,\r\n  reqspecsDetail,\r\n  reqspecsUpdate,\r\n} from \"../../../util/requset\";\r\n//引入封装的弹窗\r\nimport { successAlert, warningAlert } from \"../../../util/alert\";\r\n//引入vuex辅助函数\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  props: [\"info\"],\r\n  computed: {\r\n    ...mapGetters({\r\n      list: \"spec/list\",\r\n    }),\r\n  },\r\n  data() {\r\n    return {\r\n      attrArr: [\r\n        {\r\n          value: \"\",\r\n        },\r\n      ],\r\n      width: \"100px\",\r\n      form: {\r\n        specsname: \"\",\r\n        attrs: \"\",\r\n        status: 1,\r\n      },\r\n      //规则\r\n      rules: {\r\n        specsname: [{ required: true, message: \"请输入规格名称\", trigger: \"blur\" }],\r\n        attrs: [{ required: true, message: \"规格不能为空\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      reqList: \"spec/reqListAction\",\r\n      reqTotal: \"spec/reqListNum\",\r\n    }),\r\n    //点击了新增规格\r\n    addAttr() {\r\n      this.attrArr.push({\r\n        value: \"\",\r\n      });\r\n    },\r\n    //点击了删除规格属性\r\n    del(index) {\r\n      this.attrArr.splice(index, 1);\r\n    },\r\n    //点击了取消\r\n    cancel() {\r\n      this.$emit(\"hide\");\r\n    },\r\n    //弹框关闭完成\r\n    close() {\r\n      // 如果是编辑，取消了，就要清空\r\n      if (!this.info.isAdd) {\r\n        this.empty();\r\n      }\r\n    },\r\n    //添加菜单\r\n    add() {\r\n      if(!this.form.specsname){\r\n        warningAlert('请输入规格名')\r\n        return;\r\n      }\r\n      if (this.attrArr.some((item) => item.value === \"\")) {\r\n        warningAlert(\"规格属性均不能为空\");\r\n        return;\r\n      }\r\n      this.form.attrs = JSON.stringify(this.attrArr.map((item) => item.value));\r\n      reqAddspecs(this.form).then((res) => {\r\n        if (res.data.code === 200) {\r\n          //添加成功\r\n          successAlert(res.data.msg);\r\n          //弹窗消失\r\n          this.$emit(\"hide\");\r\n          // 重置数据\r\n          this.empty();\r\n          //重置list\r\n          this.reqList();\r\n          this.reqTotal();\r\n        } else {\r\n          warningAlert(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    //清空提交后输入from的数据\r\n    empty() {\r\n      this.form = {\r\n        specsname: \"\",\r\n        attrs: \"\",\r\n        status: 1,\r\n      };\r\n      this.attrArr = [{ value: \"\" }];\r\n    },\r\n    //查看一条数据\r\n    look(id) {\r\n      reqspecsDetail({ id: id }).then((res) => {\r\n        this.form = res.data.list[0];\r\n        this.attrArr = JSON.parse(this.form.attrs).map((item) => ({\r\n          value: item,\r\n        }));\r\n      });\r\n    },\r\n    //点击了修改\r\n    update() {\r\n      if(!this.form.specsname){\r\n        warningAlert('请输入规格名')\r\n        return;\r\n      }\r\n      if (this.attrArr.some((item) => item.value === \"\")) {\r\n        warningAlert(\"规格属性均不能为空\");\r\n        return;\r\n      }\r\n      this.form.attrs = JSON.stringify(this.attrArr.map((item) => item.value));\r\n      reqspecsUpdate(this.form).then((res) => {\r\n        if (res.data.code == 200) {\r\n          successAlert(\"更新成功\");\r\n          this.$emit(\"hide\");\r\n          this.empty();\r\n          //修改后重新请求\r\n          this.reqList();\r\n        } else {\r\n          warningAlert(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.reqList()\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style scoped>\r\n.upload-box {\r\n  width: 150px;\r\n  height: 150px;\r\n  border: 1px dashed #cccccc;\r\n  position: relative;\r\n}\r\n.upload-add {\r\n  width: 150px;\r\n  height: 150px;\r\n  text-align: center;\r\n  line-height: 150px;\r\n  font-size: 40px;\r\n  color: #666;\r\n  font-weight: 400;\r\n}\r\n.upload-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n.upload-file {\r\n  width: 150px;\r\n  height: 150px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  opacity: 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/components/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.info.title,\"visible\":_vm.info.isShow},on:{\"update:visible\":function($event){return _vm.$set(_vm.info, \"isShow\", $event)},\"closed\":_vm.close}},[_c('el-form',{attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"规格名称\",\"label-width\":_vm.width,\"prop\":\"specsname\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入规格名称\"},model:{value:(_vm.form.specsname),callback:function ($$v) {_vm.$set(_vm.form, \"specsname\", $$v)},expression:\"form.specsname\"}})],1),_vm._v(\" \"),_vm._l((_vm.attrArr),function(item,index){return _c('el-form-item',{key:index,attrs:{\"label\":\"规格属性\",\"label-width\":_vm.width}},[_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"placeholder\":\"请选择规格属性\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[(index==0)?_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addAttr}},[_vm._v(\"新增规格属性\")]):_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(index)}}},[_vm._v(\"删除\")])],1)],1)],1)}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.width}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":2},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.info.isAdd)?_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添 加\")]):_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-a2818602\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/components/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a2818602\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2818602\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2818602\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/components/add.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"list\"\r\n      style=\"width: 90%;margin:10px auto;margin-bottom: 20px;\"\r\n      row-key=\"id\"\r\n      border\r\n      default-expand-all\r\n      :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"规格编号\" sortable></el-table-column>\r\n      <el-table-column prop=\"specsname\" label=\"规格名称\" sortable></el-table-column>\r\n      <el-table-column prop label=\"规格属性\" width=\"350\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"success\" v-for=\"item in scope.row.attrs\" :key=\"item\">{{item}}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" v-if=\"scope.row.status==1\">启用</el-button>\r\n          <el-button type=\"info\" v-else>禁用</el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"edit(scope.row.id)\">编辑</el-button>\r\n          <v-del @confirm=\"del(scope.row.id)\"></v-del>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table> \r\n    <el-pagination\r\n      :page-size=\"size\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :current-page=\"page\"\r\n      @current-change=\"changeCurrentPage\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\n//引入vuex辅助函数\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n//引入封装好的弹窗\r\nimport { successAlert, warningAlert } from \"../../../util/alert\";\r\n//引入删除数据的请求\r\nimport { reqspecsDel } from \"../../../util/requset\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters({\r\n      list: \"spec/list\",\r\n      size: \"spec/size\",\r\n      total: \"spec/total\",\r\n      page: \"spec/page\",\r\n    }),\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {},\r\n  methods: {\r\n    ...mapActions({\r\n      reqList: \"spec/reqListAction\",\r\n      reqtotal: \"spec/reqListNum\",\r\n      changePageAction: \"spec/changePageAction\",\r\n    }),\r\n    //点击了编辑按钮\r\n    edit(id) {\r\n      this.$emit(\"emit\", id);\r\n    },\r\n    //点击了删除\r\n    del(id) {\r\n      reqspecsDel({ id: id }).then((res) => {\r\n        if (res.data.code == 200) {\r\n          successAlert(\"删除成功\");\r\n          this.reqtotal();\r\n          //页码设置成第一页\r\n          this.changePageAction(1)\r\n        } else {\r\n          warningAlert(res.data.msg);\r\n        }\r\n      });\r\n    },\r\n    //修改当前页码\r\n    changeCurrentPage(p){\r\n      //修改vuex里面的页码\r\n      this.changePageAction(p)\r\n    }\r\n  },\r\n  mounted() {\r\n    //挂载完成发请求\r\n    this.reqList();\r\n    this.reqtotal()\r\n    console.log(this.size);\r\n  },\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"90%\",\"margin\":\"10px auto\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.list,\"row-key\":\"id\",\"border\":\"\",\"default-expand-all\":\"\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"规格编号\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsname\",\"label\":\"规格名称\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"规格属性\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.attrs),function(item){return _c('el-tag',{key:item,attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item))])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"启用\")]):_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\"禁用\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.edit(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('v-del',{on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"page-size\":_vm.size,\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"current-page\":_vm.page},on:{\"current-change\":_vm.changeCurrentPage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-9575457a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9575457a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9575457a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/components/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <!-- 添加菜单按钮 -->\r\n    <el-button type=\"primary\" @click=\"wallAdd\" v-preventReClick>添加</el-button>\r\n    <!-- 加载add组件 -->\r\n    <v-add :info=\"info\" @hide=\"hide\" ref=\"add\"></v-add>\r\n    <!-- 加载list列表数据组件 -->\r\n    <v-list @emit=\"emit($event)\"></v-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport vAdd from \"./components/add\";\r\nimport vList from \"./components/list\";\r\nexport default {\r\n  data() { \r\n    return {\r\n      //传递给子组件的信息\r\n      info: {\r\n        //添加弹框出现状态\r\n        isShow: false,\r\n        title: \"添加规格\",\r\n        isAdd: true,\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    vAdd,\r\n    vList\r\n  },\r\n  methods: {\r\n    // 弹框消失\r\n    hide() {\r\n      this.info.isShow = false;\r\n    },\r\n    //点击了添加按钮\r\n    wallAdd() {\r\n      this.info = {\r\n        isShow: true,\r\n        title: \"添加规格\",\r\n        isAdd: true,\r\n      };\r\n    },\r\n    //触发了编辑按钮\r\n    emit(id){\r\n      this.info = {\r\n        isShow:true,\r\n        title:\"修改规格\",\r\n        isAdd:false\r\n      }\r\n      this.$refs.add.look(id)\r\n    }\r\n  },\r\n  mounted() {},\r\n  beforeDestroy() {},\r\n};\r\n</script>\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/spec/spec.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.wallAdd}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('v-add',{ref:\"add\",attrs:{\"info\":_vm.info},on:{\"hide\":_vm.hide}}),_vm._v(\" \"),_c('v-list',{on:{\"emit\":function($event){return _vm.emit($event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e3277c1a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/spec/spec.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e3277c1a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./spec.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./spec.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./spec.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e3277c1a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./spec.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/spec/spec.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}