webpackJsonp([6],{cpHy:function(e,t){},fzEZ:function(e,t){},"piS+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("4YfN"),o=i.n(r),n=i("fUgm"),a=i("BGi1"),s=i("ZeN4"),l={props:["info"],computed:o()({},Object(n.c)({roleList:"role/list"})),data:function(){return{width:"100px",form:{roleid:"",username:"",password:"",status:1},rules:{roleid:[{required:!0,message:"请选择角色",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},components:{},methods:o()({},Object(n.b)({reqRoleList:"role/reqListAction",reqUserList:"manage/reqListAction"}),{cancel:function(){this.info.isShow=!1},close:function(){!this.info.isAdd&&this.empty()},empty:function(){this.form={roleid:"",username:"",password:"",status:1}},add:function(){var e=this;(this.form.username||this.form.password)&&""!=this.form.roleid?Object(s.p)(this.form).then(function(t){200==t.data.code?(Object(a.a)("添加成功"),e.cancel(),e.empty(),e.reqUserList()):Object(a.b)(t.data.msg)}):Object(a.b)("请填写必填项,*为必填项")},look:function(e){var t=this;Object(s.r)({uid:e}).then(function(e){t.form=e.data.list,t.form.password=""})},update:function(){var e=this;Object(s.u)(this.form).then(function(t){200==t.data.code?(Object(a.a)("修改成功"),e.cancel(),e.empty(),e.reqUserList()):Object(a.b)(t.data.msg)})}}),mounted:function(){0==this.roleList.length&&this.reqRoleList()},beforeDestroy:function(){}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.info.title,visible:e.info.isShow},on:{"update:visible":function(t){return e.$set(e.info,"isShow",t)},closed:e.close}},[i("el-form",{attrs:{model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{label:"所属角色","label-width":e.width,prop:"roleid"}},[i("el-select",{model:{value:e.form.roleid,callback:function(t){e.$set(e.form,"roleid",t)},expression:"form.roleid"}},[i("el-option",{attrs:{value:"",label:"--请选择--",disabled:""}}),e._v(" "),e._l(e.roleList,function(e){return i("el-option",{key:e.id,attrs:{label:e.rolename,value:e.id}})})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名称","label-width":e.width,prop:"username"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":e.width,prop:"password"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"角色状态","label-width":e.width}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),e.info.isAdd?i("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.add}},[e._v("添 加")]):i("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.update}},[e._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var u=i("C7Lr")(l,c,!1,function(e){i("cpHy")},null,null).exports,d={computed:o()({},Object(n.c)({list:"manage/list",size:"manage/size",total:"manage/total",page:"manage/page"})),data:function(){return{}},components:{},methods:o()({},Object(n.b)({reqList:"manage/reqListAction",reqTotal:"manage/reqListNum",changePageAction:"manage/changePageAction"}),{edit:function(e){this.$emit("edit",e)},del:function(e){var t=this;Object(s.q)({uid:e}).then(function(e){200==e.data.code?(Object(a.a)(e.data.msg),t.reqTotal(),t.changePageAction(1)):Object(a.b)(e.data.msg)}),this.reqList()},changeCurrentPage:function(e){this.changePageAction(e)}}),mounted:function(){this.reqList(),this.reqTotal()},beforeDestroy:function(){}},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-table",{staticStyle:{width:"90%",margin:"10px auto","margin-bottom":"20px"},attrs:{data:e.list,"row-key":"id",border:""}},[i("el-table-column",{attrs:{prop:"id",label:"用户编号",sortable:"",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{prop:"username",label:"用户名称",sortable:"",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{prop:"rolename",label:"所属角色",sortable:"",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?i("el-button",{attrs:{type:"primary"}},[e._v("启用")]):i("el-button",{attrs:{type:"info"}},[e._v("禁用")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.edit(t.row.uid)}}},[e._v("编辑")]),e._v(" "),i("v-del",{on:{confirm:function(i){return e.del(t.row.uid)}}})]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"page-size":e.size,layout:"prev, pager, next",total:e.total,"current-page":e.page},on:{"current-change":e.changeCurrentPage}})],1)},staticRenderFns:[]};var m={data:function(){return{info:{isShow:!1,title:"添加管理员",isAdd:!0}}},components:{vAdd:u,vList:i("C7Lr")(d,f,!1,function(e){i("sagH")},null,null).exports},methods:{willAdd:function(){this.info={isShow:!0,title:"添加管理员",isAdd:!0}},edit:function(e){this.info={isShow:!0,title:"修改管理员",isAdd:!1},this.$refs.add.look(e)}},mounted:function(){},beforeDestroy:function(){}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:this.willAdd}},[this._v("添加")]),this._v(" "),t("v-add",{ref:"add",attrs:{info:this.info}}),this._v(" "),t("v-list",{on:{edit:this.edit}})],1)},staticRenderFns:[]};var v=i("C7Lr")(m,p,!1,function(e){i("fzEZ")},null,null);t.default=v.exports},sagH:function(e,t){}});
//# sourceMappingURL=6.50a6144c52f01c7705dc.js.map